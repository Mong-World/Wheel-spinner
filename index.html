<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bonus Task Spinner</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 2rem;
      background: #f4f4f4;
    }
    canvas {
      margin: 1rem auto;
      display: block;
    }
    button {
      font-size: 1.2rem;
      padding: 0.6rem 1.2rem;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-top: 1rem;
    }
    button:hover {
      background: #45a049;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¡ Bonus Task Spinner</h1>
  <canvas id="wheel" width="500" height="500"></canvas>
  <button onclick="spin()">Spin the Wheel!</button>
  <p id="result" style="font-size: 1.4rem; font-weight: bold; margin-top: 1rem;"></p>

  <script>
    const tasks = [
      "Play in the garden for 1hr",
      "Go for scavenger hunt (bugs, rocks, feathers etc)",
      "Create and complete an obstacle course",
      "Water the plants and spend 30 mins outside with George",
      "Walk to a park and back",
      "Go for a long walk",
      "Chalk art on pavement or patio",
      "Make fairy garden with leaves, twigs etc",
      "Throw & catch a ball 100 times without dropping it",
      "Make a bug hotel",
      "Do a silent walk around the block - listen for 5 different sounds",
      "Create and do a hoola hoop and skipping challenge",
      "Have a picnic in the garden - even if it's just a drink and snack",
      "Search for tiny things outside with a magnifying glass",
      "Bake something",
      "Draw a comic strip with at least 4 panels",
      "Design your own board game with cardboard or paper",
      "Write & illustrate a short story",
      "Build something cool with lego",
      "Invent a new animal - draw it and name it",
      "Create a collage",
      "Make a treasure map and hide something for someone to find",
      "Make nature bingo cards and play!",
      "30 mins of yoga",
      "Create sock puppets and put on a show",
      "Write a silly script and act it out with sibling or parent",
      "Invent a superhero and draw their costume and powers",
      "Create a fake advertisement for something silly e.g., Invisible juice",
      "Make a recycled sculpture from old boxes, containers etc",
      "Draw a self portrait BUT as a cartoon, animal or alien version of yourself",
      "Create a top 10 list - favourite animal, food, holiday etc",
      "Make a postcard for a place you've never been",
      "Read for 30+ mins",
      "Write a letter/card to a grandparent and post it",
      "Do a jigsaw",
      "Super organise/declutter your room",
      "Write a gratitude list with 10 things you're thankful for",
      "Create a summer journal - day 1: what did you do",
      "Write a poem or 2 about something silly",
      "Do a crossword or wordsearch",
      "Learn a magic trick and perform it",
      "Do a mini science experiment",
      "Learn 5 new words in a new language",
      "Make your own quiz - 10 questions on any topic",
      "Create a secret code and write a message in it",
      "Write a list of 5 ways you can be kind this week",
      "Make a thank you poster for someone who helps you",
      "Teach your sibling something new",
      "Call a friend"
    ];

    const canvas = document.getElementById("wheel");
    const ctx = canvas.getContext("2d");
    const slices = tasks.length;
    const sliceAngle = (2 * Math.PI) / slices;
    const radius = canvas.width / 2;
    let rotation = 0;

    function drawWheel() {
      for (let i = 0; i < slices; i++) {
        const angle = i * sliceAngle;
        ctx.beginPath();
        ctx.moveTo(radius, radius);
        ctx.arc(radius, radius, radius, angle, angle + sliceAngle);
        ctx.fillStyle = i % 2 === 0 ? "#ffcc66" : "#66ccff";
        ctx.fill();
        ctx.save();
        ctx.translate(radius, radius);
        ctx.rotate(angle + sliceAngle / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = "#333";
        ctx.font = "12px Arial";
        ctx.fillText(tasks[i].slice(0, 30) + (tasks[i].length > 30 ? "..." : ""), radius - 10, 4);
        ctx.restore();
      }
    }

    function spin() {
      const spinAngle = Math.random() * 360 + 360 * 5; // spin at least 5 times
      const duration = 3000;
      const start = performance.now();

      function animate(now) {
        const elapsed = now - start;
        const ease = (t) => 1 - Math.pow(1 - t, 3); // easeOutCubic
        const t = Math.min(1, elapsed / duration);
        rotation = (spinAngle * ease(t)) * Math.PI / 180;
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.save();
        ctx.translate(radius, radius);
        ctx.rotate(rotation);
        ctx.translate(-radius, -radius);
        drawWheel();
        ctx.restore();

        if (t < 1) {
          requestAnimationFrame(animate);
        } else {
          const selected = tasks[Math.floor(slices - ((rotation % (2 * Math.PI)) / sliceAngle)) % slices];
          document.getElementById("result").textContent = `ðŸŽ¯ Today's Bonus Task: ${selected}`;
        }
      }

      requestAnimationFrame(animate);
    }

    drawWheel();
  </script>
</body>
</html>
